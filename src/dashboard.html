<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <title>Mening Sahifam</title>
    <link rel="stylesheet" href="../styles/dashboard.css" />
  </head>
  <body>
    <div class="container">
      <div class="sidebar">
        <div class="top">
          <img src="../styles/images/eshim.png" alt="Logo" />
        </div>
        <div class="center">
          <a href="#" class="link active" data-section="grades">
            <i class="bx bx-book-alt"></i> Baholar
          </a>
          <a href="#" class="link" data-section="leaderboard">
            <i class="bx bx-trophy"></i> Reytinglar
          </a>
          <a href="#" class="link" data-section="eshimpay">
            <i class="bx bxs-credit-card-alt"></i> EshimPAY
          </a>
          <a href="#" class="link" data-section="settings">
            <i class="bx bxs-cog"></i> Sozlamalar
          </a>
        </div>
        <div class="bottom" id="profileSection">
          <h2 class="userProfilePic"></h2>
          <h2 id="accaunt" class="accaunt">Akkaunt</h2>
        </div>
      </div>

      <div class="content">
        <h1>
          <i class="bx bx-sidebar sidebarButton"></i>
          <span id="pageTitle">Baholar</span>
        </h1>

        <div class="section grades active">
          <div class="grades-overview">
            <h2>Mening Baholarim</h2>
            <div class="grades-stats">
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="bx bx-trending-up"></i>
                </div>
                <div class="stat-info">
                  <h3 id="averageGrade">0.00</h3>
                  <p>O'rtacha Baho</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="bx bx-book-bookmark"></i>
                </div>
                <div class="stat-info">
                  <h3 id="totalSubjects">0</h3>
                  <p>Fanlar Soni</p>
                </div>
              </div>
              <div class="stat-card">
                <div class="stat-icon">
                  <i class="bx bx-medal"></i>
                </div>
                <div class="stat-info">
                  <h3 id="totalGrades">0</h3>
                  <p>Jami Baholar</p>
                </div>
              </div>
            </div>
          </div>
          <div id="gradesContainer">
            <div class="loading">Baholar yuklanmoqda...</div>
          </div>
        </div>

        <div class="section leaderboard hidden">
          <div class="leaderboard-container">
            <h2>Balans Reytingi</h2>
            <div class="leaderboard-stats">
              <div class="rank-card">
                <div class="rank-icon">
                  <i class="bx bx-crown"></i>
                </div>
                <div class="rank-info">
                  <h3 id="userRank">-</h3>
                  <p>Mening O'rnim</p>
                </div>
              </div>
              <div class="rank-card">
                <div class="rank-icon">
                  <i class="bx bx-coin"></i>
                </div>
                <div class="rank-info">
                  <h3 id="userBalance">0</h3>
                  <p>Mening Balansim</p>
                </div>
              </div>
            </div>
            <table id="balanceTable">
              <thead>
                <tr>
                  <th>Rank</th>
                  <th>Ism</th>
                  <th>Balans</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div class="section eshimpay hidden">
          <h2>EshimPAY</h2>
          <div class="credit-card">
            <div class="card-header">
              <div class="card-logo">
                <i class="bx bxs-credit-card"></i>
                <span>EshimPAY</span>
              </div>
              <div class="card-type">TALABA KARTASI</div>
            </div>

            <div class="card-number" id="cardNumber">0000 0000 0000 0000</div>
            <div class="card-details">
              <div class="card-holder">
                <div class="label">KARTA EGASI</div>
                <div class="value" id="cardHolder">YUKLANMOQDA...</div>
              </div>
              <div class="card-balance">
                <div class="label">BALANS</div>
                <div class="value" id="cardBalance">0 ESHIM</div>
              </div>
            </div>

            <div class="card-footer">
              <div class="valid-thru">
                <div class="label">AMAL MUDDATI</div>
                <div class="value">12/29</div>
              </div>
              <button class="pay-button" id="payButton">
                <i class="bx bx-send"></i> Jo'natish
              </button>
            </div>
          </div>
        </div>

        <!-- Settings Section -->
        <div class="section settings hidden">
          <h2>Sozlamalar</h2>
          <div class="settings-content">
            <p>Sozlamalar sahifasi ishlab chiqilmoqda...</p>
          </div>
        </div>
      </div>
    </div>

    <div id="transferModal" class="modal hidden">
      <div class="modal-content">
        <h3>Pul jo‘natish</h3>
        <form id="transferForm">
          <label>Karta raqami</label>
          <input
            type="text"
            id="recipientCard"
            placeholder="123-ABC-456"
            required
          />

          <label>Summasi (ESHIM)</label>
          <input type="number" id="transferAmount" min="1" required />

          <div class="modal-actions">
            <button type="submit" class="pay-button">Jo‘natish</button>
            <button type="button" id="closeModal" class="close-button">
              Bekor qilish
            </button>
          </div>
        </form>
      </div>
    </div>
    <script type="module" src="../functions/dashboard.js"></script>
  </body>
</html>
